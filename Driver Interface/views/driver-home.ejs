<!-- LOCATION PAGE -->

<!-- HEADER SECTION -->
<%- include('header') -%>

<div style="width: 99vw;height: 90vh;background-image: url('homePage.jpg');padding-top: 8%;background-position: center;background-repeat: no-repeat;background-size: cover;opacity: 0.8;">
       <div id="hospital-location">
           <div class="heading" style="margin-bottom: 20px;"><span>Location</span></div>

           <div id="location-detail">
            <form action="/" method="post">
                <input type="text" value="India" name="country" readonly style="background-color: lightgray;font-weight: bold;"><br>
                <select id="state" onchange="handleChange(this.value,'<%= allCitiesString %>')" name="state">
                    <option name="state">Select State</option>
                    <% for(var i=0; i < allState.length; i++){ %>
                        <option name="state"><%= allState[i].name %></option>
                    <% } %>
                </select>
                <select id="city" name="city">
                    <option>Select City</option>
                </select>
                <button type="submit">SUBMIT</button>
          
            </form>
        </div>
       </div>
</div>

<!-- CONTACT SECTION -->
<%- include('contact') -%>

<!-- JS CODE -->
<script>
    
function handleChange(selectedState,elem){
    document.getElementById("city").innerHTML="<option>Select City</option>";
    var elem=JSON.parse(elem);
    var cities=(elem[selectedState]);
    cities.forEach(function(city) {
        var option = document.createElement("option");
        option.text = city.name;
        document.getElementById("city").add(option);
    });
}

</script>

<!-- FOOTER SECTION -->
<%- include('footer') -%>